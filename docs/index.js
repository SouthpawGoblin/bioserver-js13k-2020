!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(3)),s=function(){function e(t){var r=this;this.id=e.sequence++,this.dom=new a.default(t),this.children=[],this.parent=null,window.addEventListener("Updated",(function(e){r.onUpdate(e.detail)}))}return e.prototype.onUpdate=function(e){},e.prototype.add=function(e){this.dom.append(e.dom),this.children.push(e),e.parent=this},e.prototype.remove=function(){var e=this;if(this.children.forEach((function(e){return e.remove()})),this.parent){this.dom.remove();var t=this.parent.children.findIndex((function(t){return t.id===e.id}));t>=0&&this.parent.children.splice(t,1),this.parent=null}},e.sequence=1,e}();t.default=s},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,u=s.length;o<u;o++,a++)n[a]=s[o];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.showTurnResult=t.getLikeDom=t.calcTurnLikes=t.getDealCardById=t.getResClass=t.getResLikes=t.getResText=t.randPoolItem=t.isChanged=void 0;var o=r(2),u=s(r(4)),i=s(r(3)),d=s(r(8));t.isChanged=function(e,t){return!e.oldState||JSON.stringify(e.oldState[t])!==JSON.stringify(e.newState[t])},t.randPoolItem=function(e){return n({},e[Math.floor(Math.random()*e.length)])},t.getResText=function(e,t){var r;return t===o.ID_NONE?"-":t===o.ID_404?"404":(null===(r=e.find((function(e){return e.id===t})))||void 0===r?void 0:r.name)||""},t.getResLikes=function(e,r,n,a){var s="",u=e.find((function(e){return e.id===n}));return s=n===o.ID_NONE?a?": -5":" × 1":n===o.ID_404?a?": -1":" × 1":r!==n?a?": -5":" × 1":a?": "+(null==u?void 0:u.value):" × "+(null==u?void 0:u.value),t.getLikeDom(s)},t.getResClass=function(e,t){return t===o.ID_NONE?"res blank":t===o.ID_404?"res not-found":t===e?"res correct":"res wrong"},t.getDealCardById=function(e){if(e===o.ID_NONE){var t=new i.default("div");return t.class("class blank"),t}if(e===o.ID_404)return new u.default({id:o.ID_404,name:"404",value:1,type:"CREATURE",bundle:o.BUNDLE_INDEX.WILD_ANIMALS}).dom;var r=a(o.CREATURES,o.COLORS,o.CLASSES).find((function(t){return t.id===e}));return r?new u.default(r).dom:null},t.calcTurnLikes=function(e){if(e.reqCreatureId!==e.resCreatureId)return e.resCreatureId===o.ID_404?-1:-5;var t=o.CREATURES.find((function(t){return t.id===e.resCreatureId})).value;return e.reqClassId!==o.ID_NONE&&e.reqClassId===e.resClassId&&(t*=o.CLASSES.find((function(t){return t.id===e.resClassId})).value),e.reqColorId!==o.ID_NONE&&e.reqColorId===e.resColorId&&(t*=o.COLORS.find((function(t){return t.id===e.resColorId})).value),t},t.getLikeDom=function(e,t,r){var n=new i.default("div");n.class("like");var a=document.createElement("img");a.src=d.default,t&&(a.style.width=t+"rem");var s=document.createElement("span");return s.innerText=e,r?(n.getDom().appendChild(s),n.getDom().appendChild(a)):(n.getDom().appendChild(a),n.getDom().appendChild(s)),n},t.showTurnResult=function(e){var r,n=new i.default("div");0!==e?r=t.getLikeDom(" "+(e>0?"+":"")+e):(r=new i.default("span")).text("Pass"),n.append(r);var a=["turn-result"];e<0?a.push("fail"):-1===e?a.push("not-found"):e<30?a.push("success"):a.push("big-success"),n.class(a.join(" ")),setTimeout((function(){n.class(a.join(" ")+" animate")}),o.TURN_DELAY);var s=n.getDom();document.body.appendChild(s)};var l=document.createEvent("CustomEvent"),c=function(){function e(){}return e.setState=function(t){l.initCustomEvent("Updated",!0,!1,{oldState:e.state,newState:t}),e.state=n(n({},t),{inventory:a(t.inventory)}),window.dispatchEvent(l)},e.add=function(e){document.body.appendChild(e.dom.getDom()),this.children.push(e)},e.togglePause=function(){e.setState(n(n({},e.state),{paused:!e.state.paused}))},e.generateRequest=function(t,r){void 0===r&&(r=o.DEFAULT_TIMEOUT);var n=o.CREATURES.filter((function(e){return t.includes(e.bundle)})).map((function(e){return e.id})),a=n[Math.floor(Math.random()*n.length)],s=o.ID_NONE,u=o.ID_NONE;return t.includes(o.BUNDLE_INDEX.CLASSES)&&(s=o.CLASSES.map((function(e){return e.id}))[Math.floor(Math.random()*o.CLASSES.length)]),t.includes(o.BUNDLE_INDEX.COLORS)&&(u=o.COLORS.map((function(e){return e.id}))[Math.floor(Math.random()*o.COLORS.length)]),{id:e.requestSequence++,reqCreatureId:a,resCreatureId:o.ID_NONE,reqClassId:s,resClassId:o.ID_NONE,reqColorId:u,resColorId:o.ID_NONE,timeout:r}},e.start=function(){window.addEventListener("keyup",(function(t){" "===t.key&&e.togglePause()}));var t=[o.BUNDLE_INDEX.WILD_ANIMALS],r=e.generateRequest(t),n=e.generateRequest(t);e.setState({paused:!1,likes:0,turnCount:1,successCount:0,failCount:0,inventory:t,lastRequest:void 0,currentRequest:r,nextRequest:n,lastDealedCardId:o.ID_NONE,refreshLeft:5,likesRequiredForBonusRefresh:5})},e.nextTurn=function(){var r=t.calcTurnLikes(e.state.currentRequest);t.showTurnResult(r);var a=o.DEFAULT_TIMEOUT;e.state.inventory.includes(o.BUNDLE_INDEX.CLASSES)&&(a+=2e3),e.state.inventory.includes(o.BUNDLE_INDEX.COLORS)&&(a+=2e3),setTimeout((function(){e.setState(n(n({},e.state),{likes:e.state.likes+r,turnCount:e.state.turnCount+1,successCount:e.state.successCount+(r>0?1:0),failCount:e.state.failCount+(r>0?0:1),lastRequest:n({},e.state.currentRequest),currentRequest:n({},e.state.nextRequest),nextRequest:e.generateRequest(e.state.inventory,a)}))}),o.TURN_DELAY)},e.dealCard=function(t){if(!e.state.paused){var r=JSON.parse(JSON.stringify(e.state)),n=t.product;n.id===o.ID_404?(r.currentRequest.resCreatureId=o.ID_404,r.lastDealedCardId=o.ID_404):(r.lastDealedCardId=t.id,"CREATURE"===n.type?r.currentRequest.resCreatureId=n.id:"COLOR"===n.type?r.currentRequest.resColorId=n.id:"CLASS"===n.type&&(r.currentRequest.resClassId=n.id)),e.setState(r),r.currentRequest.resCreatureId!==o.ID_NONE&&e.nextTurn()}},e.buyBundle=function(t){var r=o.PRODUCT_BUNDLES.find((function(e){return e.id===t}));if(e.state.likes<r.price)throw new Error("Insufficient Likes");e.setState(n(n({},e.state),{likes:e.state.likes-r.price,inventory:a(e.state.inventory,[t])}))},e.refresh=function(){e.setState(n(n({},e.state),{refreshLeft:e.state.refreshLeft>0?e.state.refreshLeft-1:0,likesRequiredForBonusRefresh:e.state.likesRequiredForBonusRefresh<50?e.state.likesRequiredForBonusRefresh+5:50}))},e.win=function(){document.getElementById("win-req-count").innerText=String(e.state.currentRequest.id-1),document.getElementById("win-splash").style.display="block"},e.requestSequence=1,e.state=null,e.children=[],e}();t.default=c},function(e,t,r){"use strict";var n,a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,u=s.length;o<u;o++,a++)n[a]=s[o];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_PRODUCTS=t.CLASSES=t.COLORS=t.CREATURES=t.PRODUCT_BUNDLES=t.BUNDLE_INDEX=t.DEFAULT_TIMEOUT=t.TURN_DELAY=t.ID_404=t.ID_NONE=t.LIKES_NEEDED=void 0,t.LIKES_NEEDED=1e3,t.ID_NONE=-1,t.ID_404=0,t.TURN_DELAY=500,t.DEFAULT_TIMEOUT=8e3,function(e){e[e.WILD_ANIMALS=1]="WILD_ANIMALS",e[e.LEGENDARY_CREATURES=2]="LEGENDARY_CREATURES",e[e.UNICORM=3]="UNICORM",e[e.DRAGON=4]="DRAGON",e[e.COLORS=5]="COLORS",e[e.CLASSES=6]="CLASSES",e[e.CREATURE_STORAGE=7]="CREATURE_STORAGE",e[e.COLOR_STORAGE=8]="COLOR_STORAGE",e[e.CLASS_STORAGE=9]="CLASS_STORAGE"}(n=t.BUNDLE_INDEX||(t.BUNDLE_INDEX={})),t.PRODUCT_BUNDLES=[{id:n.WILD_ANIMALS,name:"Wild Animals",price:10,desc:"Basic deck with ordinary animals",type:"CARD_PACK"},{id:n.LEGENDARY_CREATURES,name:"Legendary Creatures",price:50,desc:"Advanced deck with legendary creatures !",type:"CARD_PACK"},{id:n.UNICORM,name:"Unicorn",price:100,desc:"Premium Unicorn card !",type:"CARD_PACK"},{id:n.DRAGON,name:"Dragon",price:200,desc:"Supreme Dragon card !!",type:"CARD_PACK"},{id:n.COLORS,name:"Colors",price:30,desc:"Color cards to decorate a creature and multiply the Likes of the creature",type:"MULTIPLIER"},{id:n.CLASSES,name:"Classes",price:80,desc:"Class cards to decorate a creature and multiply the Likes of the creature",type:"MULTIPLIER"}],t.CREATURES=[{id:1,name:"Chicken",value:1,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:2,name:"Rabbit",value:2,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:3,name:"Lizard",value:3,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:4,name:"Wolf",value:4,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:5,name:"Bear",value:5,type:"CREATURE",bundle:n.WILD_ANIMALS},{id:6,name:"Goblin",value:3,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"#ffe34f"},{id:7,name:"Orc",value:4,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"#ffe34f"},{id:8,name:"Fairy",value:5,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"#ffe34f"},{id:9,name:"Wyvern",value:6,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"#ffe34f"},{id:10,name:"Griffin",value:7,type:"CREATURE",bundle:n.LEGENDARY_CREATURES,color:"#ffe34f"},{id:11,name:"Unicorn",value:10,type:"CREATURE",bundle:n.UNICORM,color:"linear-gradient(135deg, rgba(255,61,61,1) 0%, rgba(248,138,51,1) 16%, rgba(240,236,41,1) 32%, rgba(57,255,48,1) 48%, rgba(54,255,214,1) 64%, rgba(46,80,255,1) 83%, rgba(210,51,255,1) 100%)"},{id:12,name:"Dragon",value:50,type:"CREATURE",bundle:n.DRAGON,color:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(228,210,24,1) 54%, rgba(255,61,61,1) 100%)"}],t.COLORS=[{id:13,name:"Gray",value:2,type:"COLOR",bundle:n.COLORS,color:"#c7c7c7"},{id:14,name:"White",value:3,type:"COLOR",bundle:n.COLORS,color:"#ffffff"},{id:15,name:"Bronze",value:4,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(189,122,0,1) 0%, rgba(251,251,251,1) 70%, rgba(189,122,0,1) 100%)"},{id:16,name:"Silver",value:5,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(213,213,213,1) 0%, rgba(251,251,251,1) 70%, rgba(213,213,213,1) 100%)"},{id:17,name:"Golden",value:6,type:"COLOR",bundle:n.COLORS,color:"linear-gradient(135deg, rgba(255,215,0,1) 0%, rgba(251,251,251,1) 70%, rgba(255,215,0,1) 100%)"}],t.CLASSES=[{id:18,name:"Common",value:2,type:"CLASS",bundle:n.CLASSES,color:"#000000"},{id:19,name:"Uncommon",value:3,type:"CLASS",bundle:n.CLASSES,color:"#00d358"},{id:20,name:"Rare",value:4,type:"CLASS",bundle:n.CLASSES,color:"#0084ff"},{id:21,name:"Epic",value:5,type:"CLASS",bundle:n.CLASSES,color:"#aa00e9"},{id:22,name:"Legendary",value:6,type:"CLASS",bundle:n.CLASSES,color:"#ffa000"}],t.ALL_PRODUCTS=a(t.CREATURES,t.COLORS,t.CLASSES)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){return this.dom="string"==typeof e?document.createElement(e):e,this}return e.prototype.id=function(e){return this.dom.id=e,this},e.prototype.class=function(e){return this.dom.className=e,this},e.prototype.text=function(e){return this.dom.innerText=e,this},e.prototype.append=function(e){return this.dom.appendChild(e.dom),this},e.prototype.prepend=function(e){return this.dom.prepend(e.dom),this},e.prototype.attr=function(e,t){return this.dom.setAttribute(e,t),this},e.prototype.remove=function(){this.dom.remove()},e.prototype.getDom=function(){return this.dom},e}();t.default=n},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(0)),l=r(2),c=u(r(1));r(7);var f=i(r(3)),p=function(e){function t(t){var r=e.call(this,"div")||this;r.onClick=function(e){c.default.state.paused||(r.dom.class("card deal"),c.default.dealCard(r),r.product.id===l.ID_404&&setTimeout((function(){r.dom.class("card")}),l.TURN_DELAY))},r.product=t,r.dom.class("card init"),setTimeout((function(){r.dom.class("card")}),l.TURN_DELAY),t.bundle===l.BUNDLE_INDEX.COLORS&&(r.dom.getDom().style.background=t.color||"#ffffff"),[l.BUNDLE_INDEX.WILD_ANIMALS,l.BUNDLE_INDEX.LEGENDARY_CREATURES,l.BUNDLE_INDEX.UNICORM,l.BUNDLE_INDEX.DRAGON].includes(t.bundle)&&(r.dom.getDom().style.background=t.color||"#ffffff"),r.dom.getDom().addEventListener("click",(function(e){r.onClick(e)}));var n=new f.default("div");if(n.text(t.name).class("name"),t.bundle===l.BUNDLE_INDEX.CLASSES){var a=n.getDom();a.style.color=t.color||"#000000",a.style.textShadow="1px 1px #aaaaaa"}r.dom.append(n);var s=l.PRODUCT_BUNDLES.find((function(e){return e.id===t.bundle})),o=s?"CARD_PACK"===s.type?" : ":" × ":"";return r.dom.append(c.getLikeDom(""+o+t.value,1)),r}return a(t,e),t}(d.default);t.default=p},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(6);var a=n(r(1)),s=n(r(9)),o=n(r(11)),u=n(r(13)),i=n(r(19)),d=n(r(20)),l=n(r(22)),c=n(r(24)),f=n(r(30)),p=r(2),h=n(r(32));window.addEventListener("keypress",(function(e){"Enter"===e.key&&(a.default.state&&a.default.state.likes>=p.LIKES_NEEDED?window.location.reload():(document.getElementById("start-splash").style.display="none",document.getElementById("win-splash").style.display="none",a.default.add(new s.default),a.default.add(new l.default),a.default.add(new u.default),a.default.add(new l.default),a.default.add(new i.default),a.default.add(new d.default("CLASS",4)),a.default.add(new d.default("COLOR",4)),a.default.add(new d.default("CREATURE",5)),a.default.add(new o.default),a.default.add(new f.default),a.default.add(new c.default),a.default.add(new h.default),a.default.start()))}))},function(e,t,r){},function(e,t,r){},function(e,t){e.exports="data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 489.2 489.2' style='enable-background:new 0 0 489.2 489.2;' xml:space='preserve'%3E %3Cg%3E %3Cg%3E %3Cpath id='XMLID_353_' style='fill:%233C92CA;' d='M143.05,474.4h-70.2c-2.1,0-3.9-1.8-3.9-3.9V286.8c0-2.1,1.8-3.9,3.9-3.9h70.1 c2.1,0,3.9,1.8,3.9,3.9v183.7C146.95,472.6,145.15,474.4,143.05,474.4z'/%3E %3Cpath d='M264.85,88.2V9.1c0-5-4.1-9.1-9.1-9.1s-9.1,4.1-9.1,9.1v79.1c0,5,4.1,9.1,9.1,9.1C260.75,97.2,264.85,93.2,264.85,88.2z' /%3E %3Cpath d='M420.15,177.8h-79.1c-5,0-9.1,4.1-9.1,9.1s4.1,9.1,9.1,9.1h79.1c5,0,9.1-4.1,9.1-9.1 C429.15,181.8,425.15,177.8,420.15,177.8z'/%3E %3Cpath d='M82.35,186.8c0,5,4.1,9.1,9.1,9.1h79.1c5,0,9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1h-79.1C86.45,177.8,82.35,181.8,82.35,186.8z '/%3E %3Cpath d='M131.55,60.9c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4s-4-2.6-6.4-2.6c-2.4,0-4.7,0.9-6.4,2.6c-1.7,1.7-2.7,4-2.7,6.4 s1,4.7,2.7,6.4s4,2.7,6.4,2.7C127.45,63.6,129.85,62.6,131.55,60.9z'/%3E %3Cpath d='M168.75,98.2c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7 C164.65,100.8,167.05,100,168.75,98.2z'/%3E %3Cpath d='M150.15,79.6c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7 C146.05,82.2,148.35,81.3,150.15,79.6z'/%3E %3Cpath d='M187.45,116.8c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4c-1.7-1.7-4-2.6-6.4-2.6s-4.7,1-6.4,2.6c-1.7,1.7-2.7,4-2.7,6.4 s1,4.7,2.7,6.4c1.7,1.7,4,2.7,6.4,2.7C183.35,119.5,185.75,118.5,187.45,116.8z'/%3E %3Cpath d='M384.45,66.6c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4s-4-2.7-6.4-2.7s-4.7,1-6.4,2.7c-1.7,1.7-2.7,4-2.7,6.4s1,4.7,2.7,6.4 c1.7,1.7,4,2.7,6.4,2.7S382.75,68.3,384.45,66.6z'/%3E %3Cpath d='M340.75,106.6c2.3,0,4.6-0.9,6.4-2.7c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8 C336.15,105.7,338.45,106.6,340.75,106.6z'/%3E %3Cpath d='M365.75,85.3c3.5-3.5,3.5-9.3,0-12.8s-9.3-3.5-12.8,0s-3.5,9.3,0,12.8c1.8,1.8,4.1,2.7,6.4,2.7S364.05,87,365.75,85.3z'/%3E %3Cpath d='M328.55,122.5c1.7-1.7,2.7-4,2.7-6.4s-1-4.7-2.7-6.4c-1.7-1.7-4-2.7-6.4-2.7s-4.7,1-6.4,2.7c-1.7,1.7-2.6,4-2.6,6.4 s1,4.7,2.7,6.4s4,2.7,6.4,2.7C324.55,125.2,326.85,124.2,328.55,122.5z'/%3E %3Cpath d='M406.35,439.3l21.1-134.1c0.1-0.5,0.1-0.9,0.1-1.4c0-28.2-22.9-51.1-51.1-51.1h-79.3v-57.1c0-24.1-7-41.4-20.9-51.6 c-22-16.1-52.2-6.9-53.5-6.5c-3.8,1.2-6.3,4.7-6.3,8.6v64.1c0,50.6-58.6,67.8-61.1,68.5c-1.2,0.3-2.2,0.9-3.1,1.6 c-3.1-3.9-7.9-6.4-13.2-6.4h-62.2c-9.3,0-16.9,7.6-16.9,16.9v175.8c0,9.3,7.6,16.9,16.9,16.9h62.2c6.2,0,11.7-3.4,14.6-8.4 c9.2,8.8,21.6,14.1,35.2,14.1h156.8C380.35,489.1,402.45,471,406.35,439.3z M137.85,465.3h-59.8V291.9h59.8V465.3z M155.95,438.1 V296.2c1.4,0.3,2.8,0.3,4.3-0.1c3-0.8,74.3-21.5,74.3-85.9v-56.8c7.8-1.2,21.3-1.9,31,5.2c9,6.6,13.5,19,13.5,37v66.3 c0,5,4.1,9.1,9.1,9.1h88.4c17.9,0,32.6,14.4,32.9,32.3l-21,133.5c0,0.1,0,0.2,0,0.3c-2.8,22.6-17.1,34-42.7,34h-156.8 C170.75,471,155.95,456.2,155.95,438.1z'/%3E %3C/g%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3Cg%3E %3C/g%3E %3C/svg%3E"},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=s(r(3));r(10);var i=r(2),d=r(1),l=function(e){function t(){var t=e.call(this,"header")||this;t.dom.class("header"),t.likes=new u.default("div"),t.likes.class("likes"),t.title=new u.default("div"),t.title.class("title").text("Bio-Server");var r=new u.default("div");return r.class("statistics"),t.successCount=new u.default("div"),t.failCount=new u.default("div"),r.append(t.successCount).append(t.failCount),t.dom.append(t.likes).append(t.title).append(r),t}return a(t,e),t.prototype.onUpdate=function(e){var t;d.isChanged(e,"likes")&&(this.likes.getDom().children.length&&(null===(t=this.likes.getDom().children.item(0))||void 0===t||t.remove()),this.likes.append(d.getLikeDom(": "+e.newState.likes+"/"+i.LIKES_NEEDED))),d.isChanged(e,"successCount")&&this.successCount.text("success: "+e.newState.successCount),d.isChanged(e,"failCount")&&this.failCount.text("fail: "+e.newState.failCount)},t}(o.default);t.default=l},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(12);var o=s(r(0)),u=r(1),i=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.class("pause-info"),t}return a(t,e),t.prototype.onUpdate=function(e){u.isChanged(e,"paused")&&this.dom.text(e.newState.paused?"Press [Space] to continue the game.":"Press [Space] to pause and go shopping.")},t}(o.default);t.default=i},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(0));r(14);var l=i(r(15)),c=i(r(16)),f=i(r(18)),p=u(r(1)),h=i(r(3)),_=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.class("request-queue"),t}return a(t,e),t.prototype.onUpdate=function(e){var t;if(p.isChanged(e,"turnCount")&&(p.isChanged(e,"nextRequest")&&(this.nextRequest&&this.nextRequest.remove(),this.nextRequest=new f.default(p.default.state.nextRequest),this.add(this.nextRequest)),p.isChanged(e,"currentRequest")&&(this.currentRequest&&this.currentRequest.remove(),this.currentRequest=new c.default(p.default.state.currentRequest),this.add(this.currentRequest)),p.isChanged(e,"lastRequest")))if(p.default.state.lastRequest)null===(t=document.getElementById("last-req-placeholder"))||void 0===t||t.remove(),this.lastRequest&&this.lastRequest.remove(),this.lastRequest=new l.default(p.default.state.lastRequest),this.add(this.lastRequest);else{var r=new h.default("div");r.id("last-req-placeholder").class("request-card last"),this.dom.append(r)}},t}(d.default);t.default=_},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=r(1),i=s(r(3)),d=r(2),l=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.class("request-card last");var n=new i.default("div");n.text("Last Request").class("state"),r.dom.append(n),r.header=new i.default("div"),r.header.class("header");var a=new i.default("span");a.text("Request No."+t.id);var s=new i.default("span"),o=r.getReqStatusAndClass(t.reqCreatureId,t.resCreatureId);s.text(o.status).class(o.class),r.header.append(a),r.header.append(s),r.dom.append(r.header);var l=new i.default("div");if(l.class("content"),r.dom.append(l),t.reqClassId!==d.ID_NONE){var c=new i.default("div");c.class("col"),r.reqClass=new i.default("span"),r.reqClass.text(u.getResText(d.CLASSES,t.reqClassId)),r.resClass=new i.default("div"),r.resClass.append(u.getResLikes(d.CLASSES,t.reqClassId,t.resClassId,!1)).class(t.reqClassId===t.resClassId?"res correct":"res wrong"),c.append(r.reqClass),c.append(r.resClass),l.append(c)}if(t.reqColorId!==d.ID_NONE){var f=new i.default("div");f.class("col"),r.reqColor=new i.default("span"),r.reqColor.text(u.getResText(d.COLORS,t.reqColorId)),r.resColor=new i.default("span"),r.resColor.append(u.getResLikes(d.COLORS,t.reqColorId,t.resColorId,!1)).class(t.reqColorId===t.resColorId?"res correct":"res wrong"),f.append(r.reqColor),f.append(r.resColor),l.append(f)}var p=new i.default("div");return p.class("col"),r.reqCreature=new i.default("span"),r.reqCreature.text(u.getResText(d.CREATURES,t.reqCreatureId)),r.resCreature=new i.default("span"),r.resCreature.append(u.getResLikes(d.CREATURES,t.reqCreatureId,t.resCreatureId,!0)).class(t.reqCreatureId===t.resCreatureId?"res correct":t.resCreatureId===d.ID_404?"res not-found":"res wrong"),p.append(r.reqCreature),p.append(r.resCreature),l.append(p),r}return a(t,e),t.prototype.getReqStatusAndClass=function(e,t){return t===d.ID_NONE?{status:"Timeout",class:"error"}:t===d.ID_404?{status:"Not Found",class:"not-found"}:t===e?{status:"Success",class:"success"}:{status:"Error",class:"error"}},t}(o.default);t.default=l},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=r(1),i=s(r(3)),d=s(r(17)),l=r(2),c=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.class("request-card current");var n=new i.default("div");n.text("Current Request").class("state"),r.dom.append(n),r.header=new i.default("div"),r.header.class("header");var a=new i.default("span");a.text("Request No."+t.id);var s=new i.default("span");s.text("Loading").class("loading"),r.header.append(a),r.header.append(s),r.dom.append(r.header);var o=new i.default("div");if(o.class("content"),r.dom.append(o),t.reqClassId!==l.ID_NONE){var c=new i.default("div");c.class("col"),r.reqClass=new i.default("span"),r.reqClass.text(u.getResText(l.CLASSES,t.reqClassId)),r.resClass=new i.default("div"),r.resClass.text(u.getResText(l.CLASSES,t.resClassId)).class("res blank"),c.append(r.reqClass),c.append(r.resClass),o.append(c)}if(t.reqColorId!==l.ID_NONE){var f=new i.default("div");f.class("col"),r.reqColor=new i.default("span"),r.reqColor.text(u.getResText(l.COLORS,t.reqColorId)),r.resColor=new i.default("span"),r.resColor.text(u.getResText(l.COLORS,t.resColorId)).class("res blank"),f.append(r.reqColor),f.append(r.resColor),o.append(f)}var p=new i.default("div");return p.class("col"),r.reqCreature=new i.default("span"),r.reqCreature.text(u.getResText(l.CREATURES,t.reqCreatureId)),r.resCreature=new i.default("span"),r.resCreature.text(u.getResText(l.CREATURES,t.resCreatureId)).class("res blank creature"),p.append(r.reqCreature),p.append(r.resCreature),o.append(p),t.id>10&&t.timeout>0&&r.add(new d.default(t.timeout)),r}return a(t,e),t.prototype.onUpdate=function(e){if(u.isChanged(e,"currentRequest")){if(!e.oldState)return;var t=e.oldState.currentRequest,r=e.newState.currentRequest;if(r.resClassId!==t.resClassId){if(this.resClass&&this.resClass.text(u.getResText(l.CLASSES,r.resClassId)).class(u.getResClass(r.reqClassId,r.resClassId)),r.resClassId!==l.ID_404&&r.resClassId!==l.ID_NONE){var n=l.CLASSES.find((function(e){return e.id===r.resClassId}));if(this.resClass){var a=this.resClass.getDom();a.style.color=n.color||"#000000",a.style.textShadow="1px 1px #aaaaaa"}}}else if(r.resColorId!==t.resColorId){if(this.resColor&&this.resColor.text(u.getResText(l.COLORS,r.resColorId)).class(u.getResClass(r.reqColorId,r.resColorId)),r.resColorId!==l.ID_NONE&&r.resColorId!==l.ID_404){var s=l.COLORS.find((function(e){return e.id===r.resColorId}));this.resColor&&(this.resColor.getDom().style.background=s.color||"#ffffff")}}else if(r.resCreatureId!==t.resCreatureId&&(this.resCreature.text(u.getResText(l.CREATURES,r.resCreatureId)).class(u.getResClass(r.reqCreatureId,r.resCreatureId)),r.resCreatureId!==l.ID_NONE&&r.resCreatureId!==l.ID_404)){var o=l.CREATURES.find((function(e){return e.id===r.resCreatureId}));this.resCreature&&(this.resCreature.getDom().style.background=o.color||"#ffffff")}}},t}(o.default);t.default=c},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(0)),l=u(r(1)),c=r(2),f=function(e){function t(r){var n=e.call(this,"div")||this;return n.changeColor=function(e){e<.33?n.dom.class("current-timer green"):e>=.33&&e<.67?n.dom.class("current-timer yellow"):n.dom.class("current-timer red")},n.countLoop=function(e){var r=t.lastTime?e-t.lastTime:0;if(t.lastTime=e,n.counting){if(!n.paused){n.elapsedTime+=r;var a=n.elapsedTime/n.timeout;n.dom.getDom().style.width=100*a+"%",n.changeColor(a),n.elapsedTime>=n.timeout&&(n.animId&&cancelAnimationFrame(n.animId),n.counting=!1,l.default.nextTurn())}n.animId=requestAnimationFrame(n.countLoop)}},n.dom.class("current-timer"),n.timeout=r,n.counting=!0,n.elapsedTime=0,n.paused=!1,n.animId=requestAnimationFrame(n.countLoop),n}return a(t,e),t.prototype.onUpdate=function(e){l.isChanged(e,"paused")&&(this.paused=l.default.state.paused),l.isChanged(e,"currentRequest")&&e.newState.currentRequest.resCreatureId!==c.ID_NONE&&(this.paused=!0),l.isChanged(e,"turnCount")&&(this.paused=!1),l.isChanged(e,"likes")&&e.newState.likes>=c.LIKES_NEEDED&&(this.paused=!0)},t.prototype.remove=function(){this.counting=!1,e.prototype.remove.call(this)},t.lastTime=0,t}(d.default);t.default=f},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=r(1),i=s(r(3)),d=r(2),l=function(e){function t(t){var r=e.call(this,"div")||this;r.dom.class("request-card next");var n=new i.default("div");n.text("Next Request").class("state"),r.dom.append(n),r.header=new i.default("div"),r.header.class("header");var a=new i.default("span");a.text("Request No."+t.id);var s=new i.default("span");s.text("Pending").class("pending"),r.header.append(a),r.header.append(s),r.dom.append(r.header);var o=new i.default("div");if(o.class("content"),r.dom.append(o),t.reqClassId!==d.ID_NONE){var l=new i.default("div");l.class("col"),r.reqClass=new i.default("span"),r.reqClass.text(u.getResText(d.CLASSES,t.reqClassId)),r.resClass=new i.default("div"),r.resClass.text(u.getResText(d.CLASSES,t.resClassId)).class("res blank"),l.append(r.reqClass),l.append(r.resClass),o.append(l)}if(t.reqColorId!==d.ID_NONE){var c=new i.default("div");c.class("col"),r.reqColor=new i.default("span"),r.reqColor.text(u.getResText(d.COLORS,t.reqColorId)),r.resColor=new i.default("span"),r.resColor.text(u.getResText(d.COLORS,t.resColorId)).class("res blank"),c.append(r.reqColor),c.append(r.resColor),o.append(c)}var f=new i.default("div");return f.class("col"),r.reqCreature=new i.default("span"),r.reqCreature.text(u.getResText(d.CREATURES,t.reqCreatureId)),r.resCreature=new i.default("span"),r.resCreature.text(u.getResText(d.CREATURES,t.resCreatureId)).class("res blank creature"),f.append(r.reqCreature),f.append(r.resCreature),o.append(f),r}return a(t,e),t}(o.default);t.default=l},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=s(r(4)),i=r(2),d=function(e){function t(){var t=e.call(this,"section")||this;return t.dom.class("card-404"),t.add(new u.default({id:i.ID_404,name:"404",value:-1,type:"CREATURE",bundle:i.BUNDLE_INDEX.WILD_ANIMALS})),t}return a(t,e),t}(o.default);t.default=d},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(0)),l=i(r(3));r(21);var c=r(2),f=u(r(1)),p=i(r(4)),h=function(e){function t(t,r){void 0===r&&(r=4);var n=e.call(this,"div")||this;n.pool=[],n.cards=[],n.dom.class("conveyor hidden"),n.type=t,n.capacity=r;var a=new l.default("div");a.class("conveyor-content");var s=new l.default("div");s.class("conveyor-title"),s.text("CREATURE"===t?"Creatures":"COLOR"===t?"Colors":"CLASS"===t?"Classes":""),a.append(s),n.container=a,n.dom.append(a);var o=new l.default("div");return o.class("conveyor-refresh"),o.append(new l.default("div").text("Refresh")),n.refreshCount=new l.default("div"),n.refreshCount.text("").class("refresh"),o.append(n.refreshCount),o.getDom().addEventListener("click",(function(){f.default.state.refreshLeft>0&&(n.refreshCards(),f.default.refresh())})),n.dom.append(o),n}return a(t,e),t.prototype.onUpdate=function(e){var t=this;if(f.isChanged(e,"refreshLeft")&&(this.refreshCount.text(String(f.default.state.refreshLeft)).class("refresh"),f.default.state.refreshLeft<=0&&this.refreshCount.class("refresh zero")),f.isChanged(e,"inventory")){var r=f.default.state.inventory,n=c.ALL_PRODUCTS.filter((function(e){return e.type===t.type&&r.includes(e.bundle)}));if(0===this.pool.length&&n.length>0){for(var a=0;a<this.capacity;a++){var s=new p.default(f.randPoolItem(n));this.cards.push(s),this.container.append(s.dom)}this.dom.class("conveyor")}this.pool=n}if(f.isChanged(e,"currentRequest")){if(!e.oldState)return;var o=e.oldState.currentRequest,u=e.newState.currentRequest;if(o.id!==u.id)return;var i=c.ID_NONE,d=c.ID_NONE;if("CREATURE"===this.type?(i=o.resCreatureId,d=u.resCreatureId):"COLOR"===this.type?(i=o.resColorId,d=u.resColorId):"CLASS"===this.type&&(i=o.resClassId,d=u.resClassId),i!==d&&d!==c.ID_404){var l=this.cards.findIndex((function(e){return e.id===f.default.state.lastDealedCardId}));l>=0&&setTimeout((function(){t.cards.splice(l,1)[0].dom.getDom().remove();var e=new p.default(f.randPoolItem(t.pool));t.cards.unshift(e),t.container.prepend(e.dom)}),c.TURN_DELAY)}}},t.prototype.refreshCards=function(){this.cards.forEach((function(e){return e.dom.getDom().remove()})),this.cards=[];for(var e=0;e<this.capacity;e++){var t=new p.default(f.randPoolItem(this.pool));this.cards.push(t),this.container.append(t.dom)}},t}(d.default);t.default=h},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0));r(23);var u=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.class("divider"),t}return a(t,e),t}(o.default);t.default=u},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StoreRow=void 0;var d=i(r(0)),l=u(r(1));r(25);var c=i(r(3)),f=r(2),p=i(r(26)),h=function(e){function t(){var t=e.call(this,"div")||this;t.dom.class("store");var r=new c.default("div");r.class("header"),r.text("Expansion Packs & Multipliers for Sale !"),t.dom.append(r);var n=new _,a=new c.default("div");a.class("row-header");var s=new c.default("div");s.text("Expansion Packs:").class("row-name");var o=new c.default("div");o.text('"more creature cards with higher value of Likes"').class("row-desc"),a.append(s).append(o),n.dom.append(a),f.PRODUCT_BUNDLES.filter((function(e){return"CARD_PACK"===e.type})).forEach((function(e){n.add(new p.default(e))})),t.add(n);var u=new _,i=new c.default("div");i.class("row-header");var d=new c.default("div");d.text("Multipliers:").class("row-name");var l=new c.default("div");return l.text('"card decorations to multiply card\'s value of Likes"').class("row-desc"),i.append(d).append(l),u.dom.append(i),f.PRODUCT_BUNDLES.filter((function(e){return"MULTIPLIER"===e.type})).forEach((function(e){u.add(new p.default(e))})),t.add(u),t}return a(t,e),t.prototype.onUpdate=function(e){if(l.isChanged(e,"paused")){var t=l.default.state.paused;this.dom.class(t?"store":"store hide")}},t}(d.default);t.default=h;var _=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.class("store-row"),t}return a(t,e),t}(d.default);t.StoreRow=_},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(0)),l=i(r(3)),c=u(r(1));r(27);var f=i(r(28)),p=function(e){function t(t){var r=e.call(this,"div")||this;r.sold=!1,r.dom.class("store-product-bundle"),r.bundle=t;var n=new l.default("div");n.class("title").text(t.name),r.dom.append(n);var a=new l.default("div");a.class("desc").text(t.desc),r.dom.append(a);var s=new l.default("div");return s.class("cost").text("Cost: "),s.append(c.getLikeDom(String(t.price),1,!0)),r.dom.append(s),r.add(new f.default(t)),r.dom.getDom().addEventListener("click",(function(){if(!r.sold)try{c.default.buyBundle(t.id)}catch(e){s.class("cost red"),clearTimeout(-1),setTimeout((function(){return s.class("cost")}),500)}})),r.dom.getDom().addEventListener("mouseenter",(function(){r.children.forEach((function(e){return e.dom.class("bundle-detail show")}))})),r.dom.getDom().addEventListener("mouseleave",(function(){r.children.forEach((function(e){return e.dom.class("bundle-detail")}))})),r}return a(t,e),t.prototype.onUpdate=function(e){c.isChanged(e,"paused")&&e.newState.paused&&this.updateClass(),c.isChanged(e,"inventory")&&this.updateClass()},t.prototype.updateClass=function(){c.default.state.inventory.includes(this.bundle.id)?(this.dom.class("store-product-bundle sold"),this.sold=!0):(this.dom.class("store-product-bundle"),this.sold=!1)},t}(d.default);t.default=p},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(0)),u=r(2),i=s(r(4));r(29);var d=function(e){function t(t){var r=e.call(this,"div")||this;return r.dom.class("bundle-detail"),"CARD_PACK"===t.type?u.CREATURES.filter((function(e){return e.bundle===t.id})).forEach((function(e){r.add(new i.default(e))})):"MULTIPLIER"===t.type&&(t.id===u.BUNDLE_INDEX.COLORS?u.COLORS.forEach((function(e){r.add(new i.default(e))})):t.id===u.BUNDLE_INDEX.CLASSES&&u.CLASSES.forEach((function(e){r.add(new i.default(e))}))),r}return a(t,e),t}(o.default);t.default=d},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(31);var o=s(r(0)),u=r(1),i=s(r(3)),d=function(e){function t(){var t=e.call(this,"div")||this;return t.dom.class("refresh-bonus-notion"),t}return a(t,e),t.prototype.onUpdate=function(e){u.isChanged(e,"likesRequiredForBonusRefresh")&&(this.text1&&this.text1.getDom().remove(),this.text2&&this.text2.getDom().remove(),this.likeDom&&this.likeDom.getDom().remove(),this.text1=new i.default("span").text("Get "),this.dom.append(this.text1),this.likeDom=u.getLikeDom(String(e.newState.likesRequiredForBonusRefresh),1.5,!0),this.likeDom.getDom().style.fontSize="2rem",this.likeDom.getDom().style.fontWeight="bold",this.dom.append(this.likeDom),this.text2=new i.default("span").text(" in one request to earn a bonus refresh!"),this.dom.append(this.text2))},t}(o.default);t.default=d},function(e,t,r){},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(2),l=u(r(1)),c=function(e){function t(){return e.call(this,"div")||this}return a(t,e),t.prototype.onUpdate=function(e){l.isChanged(e,"likes")&&e.newState.likes>=d.LIKES_NEEDED&&l.default.win()},t}(i(r(0)).default);t.default=c}]);